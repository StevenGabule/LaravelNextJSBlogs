{"version":3,"sources":["webpack:///./resources/js/modules/auth/pages/register/Page.js","webpack:///./resources/js/modules/auth/pages/register/components/Form.js","webpack:///./resources/js/modules/auth/pages/register/index.js"],"names":["Page","props","validator","ReeValidate","name","email","password","passwordConfirmation","state","credentials","errors","fields","handleChange","bind","handleSubmit","$","attr","removeAttr","value","setState","remove","validate","then","e","preventDefault","submit","dispatch","register","error","statusCode","_","forOwn","message","field","add","isAuthenticated","Component","PropTypes","bool","isRequired","func","displayName","propTypes","string","Form","target","mapStateToProps","auth","connect"],"mappings":"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","file":"3.js","sourcesContent":["//import libs\nimport React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport $ from 'jquery'\nimport _ from 'lodash'\nimport { Redirect } from 'react-router-dom'\nimport { register } from '../../service'\nimport ReeValidate from 'ree-validate'\n\n// import components\nimport Form from './components/Form'\n\n// initialize component\nclass Page extends Component {\n    static displayName = 'RegisterPage'\n    static propTypes = {\n        isAuthenticated: PropTypes.bool.isRequired,\n        dispatch: PropTypes.func.isRequired,\n    }\n\n    constructor(props) {\n        super(props)\n\n        this.validator = new ReeValidate({\n            name: 'required|min:6',\n            email: 'required|email',\n            password: 'required|min:6',\n            passwordConfirmation: 'required|min:6'\n        })\n\n        this.state = {\n            credentials: {\n                name: '',\n                email: '',\n                password: '',\n                passwordConfirmation: '',\n            },\n            errors: this.validator.errors,\n            fields: this.validator.fields\n        }\n\n        this.handleChange = this.handleChange.bind(this)\n        this.handleSubmit = this.handleSubmit.bind(this)\n    }\n\n    componentDidMount() {\n        $('body').attr('style', 'background-color: #eee')\n    }\n\n    componentWillUnmount() {\n        $('body').removeAttr('style')\n    }\n\n    // event to handle input change\n    handleChange(name, value) {\n        const { errors } = this.validator\n\n        this.setState({credentials: { ...this.state.credentials, [name]: value }})\n        errors.remove(name)\n\n        this.validator.validate(name, value)\n            .then(() => {\n                this.setState({ errors })\n            })\n    }\n\n    handleSubmit(e) {\n        e.preventDefault()\n        const { credentials } = this.state\n        const { errors } = this.validator\n\n        /*this.validator.validateAll(credentials)\n            .then((success) => {\n                if (success) {\n\n                } else {\n                    this.setState({ errors })\n                }\n            })*/\n        this.submit(credentials);\n    }\n\n    submit(credentials) {\n        this.props.dispatch(register(credentials))\n            .catch(({ error, statusCode }) => {\n                const { errors } = this.validator\n\n                if (statusCode === 422) {\n                    _.forOwn(error, (message, field) => {\n                        errors.add(field, message);\n                    });\n                } else if (statusCode === 401) {\n                    errors.add('password', error);\n                }\n\n                this.setState({ errors })\n            })\n    }\n\n    render() {\n        // check if user is authenticated then redirect him to home page\n        if (this.props.isAuthenticated) {\n            return <Redirect to=\"/\" />\n        }\n\n        const { name, email, password, passwordConfirmation } = this.state.credentials\n        const props = {\n            name,\n            email,\n            password,\n            passwordConfirmation,\n            errors: this.state.errors,\n            handleChange: this.handleChange,\n            handleSubmit: this.handleSubmit,\n        }\n\n        return (<div className=\"container py-5\">\n            <div className=\"row\">\n                <div className=\"col-md-12\">\n                    <div className=\"row\">\n                        <div className=\"mx-auto\">\n                            <span className=\"anchor\"/>\n                            <div className=\"card has-shadow\">\n                                <div className=\"card-body\">\n                                    <Form {...props}  />\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>)\n    }\n}\n\nexport default Page\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { Link } from 'react-router-dom'\n\nconst displayName = 'RegisterFrom'\n\nconst propTypes = {\n    name: PropTypes.string.isRequired,\n    email: PropTypes.string.isRequired,\n    password: PropTypes.string.isRequired,\n    passwordConfirmation: PropTypes.string.isRequired,\n    handleChange: PropTypes.func.isRequired,\n    handleSubmit: PropTypes.func.isRequired,\n}\n\nconst Form = ({ name, email, password, passwordConfirmation, handleChange, handleSubmit }) => {\n    return (<form className=\"form\" role=\"form\" onSubmit={handleSubmit} noValidate>\n        <h2 className=\"card-title\">Sign up</h2>\n        <div className=\"form-group\">\n            <label htmlFor=\"name\" className=\"sr-only\">Email</label>\n            <input type=\"text\"\n                   className={`form-control form-control-lg rounded-0}`}\n                   name=\"name\"\n                   id=\"name\"\n                   placeholder=\"Full Name\"\n                   value={name || ''}\n                   onChange={e => handleChange(e.target.name, e.target.value)}\n                   required\n                   autoFocus/>\n        </div>\n        <div className=\"form-group\">\n            <label htmlFor=\"email\" className=\"sr-only\">Email</label>\n            <input type=\"email\"\n                   className={`form-control form-control-lg rounded-0`}\n                   name=\"email\"\n                   id=\"email\"\n                   placeholder=\"Email address\"\n                   value={email || ''}\n                   onChange={e => handleChange(e.target.name, e.target.value)}\n                   required\n                   autoFocus/>\n        </div>\n        <div className=\"form-group\">\n            <label htmlFor=\"password\" className=\"sr-only\">Password</label>\n            <input type=\"password\"\n                   className={`form-control form-control-lg rounded-0`}\n                   id=\"password\"\n                   name=\"password\"\n                   placeholder=\"Password\"\n                   value={password || ''}\n                   onChange={e => handleChange(e.target.name, e.target.value)}\n                   required/>\n        </div>\n        <div className=\"form-group\">\n            <label htmlFor=\"passwordConfirmation\" className=\"sr-only\">Confirm Password</label>\n            <input type=\"password\"\n                   className={`form-control form-control-lg rounded-0`}\n                   id=\"passwordConfirmation\"\n                   name=\"passwordConfirmation\"\n                   placeholder=\"Confirm Password\"\n                   value={passwordConfirmation || ''}\n                   onChange={e => handleChange(e.target.name, e.target.value)}\n                   required/>\n        </div>\n        <button className=\"btn btn-lg btn-primary btn-block\"\n                type=\"submit\">Sign Up</button>\n        <p>Back to<Link to=\"/login\" className=\"btn btn-link\">Login</Link></p>\n    </form>)\n}\n\nForm.displayName = displayName\nForm.propTypes = propTypes\n\nexport default Form\n","// import libs\nimport { connect } from 'react-redux'\n\n// import components\nimport Page from './Page'\n\nconst mapStateToProps = state => {\n    return {\n        isAuthenticated: state.auth.isAuthenticated,\n    }\n}\n\nexport default connect(mapStateToProps)(Page)\n"],"sourceRoot":""}